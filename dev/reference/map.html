<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The map functions transform their input by applying a function to
each element of a list or atomic vector and returning an object of the same length as the input.
map() always returns a list. See the modify() family for
versions that return an object of the same type as the input.
map_lgl(), map_int(), map_dbl() and map_chr() return an
atomic vector of the indicated type (or die trying).
map_dfr() and map_dfc() return a data frame created by
row-binding and column-binding respectively. They require dplyr
to be installed. map_df() is an alias for map_dfr().
The returned values of .f must be of length one for each element
of .x. If .f uses an extractor function shortcut, .default
can be specified to handle values that are absent or empty. See
as_mapper() for more on .default.



walk() calls .f for its side-effect and returns
the input .x.

"><title>Apply a function to each element of a list or atomic vector — map • purrr</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.2/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.2/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Apply a function to each element of a list or atomic vector — map"><meta property="og:description" content="The map functions transform their input by applying a function to
each element of a list or atomic vector and returning an object of the same length as the input.
map() always returns a list. See the modify() family for
versions that return an object of the same type as the input.
map_lgl(), map_int(), map_dbl() and map_chr() return an
atomic vector of the indicated type (or die trying).
map_dfr() and map_dfc() return a data frame created by
row-binding and column-binding respectively. They require dplyr
to be installed. map_df() is an alias for map_dfr().
The returned values of .f must be of length one for each element
of .x. If .f uses an extractor function shortcut, .default
can be specified to handle values that are absent or empty. See
as_mapper() for more on .default.



walk() calls .f for its side-effect and returns
the input .x.

"><meta property="og:image" content="https://purrr.tidyverse.org/logo.png"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><script defer data-domain="purrr.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-none"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">purrr</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.3.4.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/other-langs.html">Functional programming in other languages</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-news">News</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-news">
    <h6 class="dropdown-header" data-toc-skip>Releases</h6>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2019/02/purrr-0-3-0/">Version 0.3.0</a>
    <a class="external-link dropdown-item" href="https://www.tidyverse.org/articles/2017/08/purrr-0.2.3/">Version 0.2.3</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../news/index.html">Changelog</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/tidyverse/purrr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Apply a function to each element of a list or atomic vector</h1>
      <small class="dont-index">Source: <a href="https://github.com/tidyverse/purrr/blob/HEAD/R/map.R" class="external-link"><code>R/map.R</code></a></small>
      <div class="d-none name"><code>map.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The map functions transform their input by applying a function to
each element of a list or atomic vector and returning an object of the same length as the input.</p><ul><li><p><code>map()</code> always returns a list. See the <code><a href="modify.html">modify()</a></code> family for
versions that return an object of the same type as the input.</p></li>
<li><p><code>map_lgl()</code>, <code>map_int()</code>, <code>map_dbl()</code> and <code>map_chr()</code> return an
atomic vector of the indicated type (or die trying).</p></li>
<li><p><code>map_dfr()</code> and <code>map_dfc()</code> return a data frame created by
row-binding and column-binding respectively. They require dplyr
to be installed. <code>map_df()</code> is an alias for <code>map_dfr()</code>.</p></li>
<li><p>The returned values of <code>.f</code> must be of length one for each element
of <code>.x</code>. If <code>.f</code> uses an extractor function shortcut, <code>.default</code>
can be specified to handle values that are absent or empty. See
<code><a href="as_mapper.html">as_mapper()</a></code> for more on <code>.default</code>.</p></li>
</ul><ul><li><p><code>walk()</code> calls <code>.f</code> for its side-effect and returns
the input <code>.x</code>.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">map</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">map_lgl</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">map_chr</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">map_int</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">map_dbl</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">map_raw</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">map_dfr</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span>, .id <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">map_dfc</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">walk</span><span class="op">(</span><span class="va">.x</span>, <span class="va">.f</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>.x</dt>
<dd><p>A list or atomic vector.</p></dd>


<dt>.f</dt>
<dd><p>A function, formula, or vector (not necessarily atomic).</p>
<p>If a <strong>function</strong>, it is used as is.</p>
<p>If a <strong>formula</strong>, e.g. <code>~ .x + 2</code>, it is converted to a function. There
are three ways to refer to the arguments:</p><ul><li><p>For a single argument function, use <code>.</code></p></li>
<li><p>For a two argument function, use <code>.x</code> and <code>.y</code></p></li>
<li><p>For more arguments, use <code>..1</code>, <code>..2</code>, <code>..3</code> etc</p></li>
</ul><p>This syntax allows you to create very compact anonymous
functions. Note that formula functions conceptually take dots
(that's why you can use <code>..1</code> etc). They silently ignore
additional arguments that are not used in the formula expression.</p>
<p>If <strong>character vector</strong>, <strong>numeric vector</strong>, or <strong>list</strong>, it is
converted to an extractor function. Character vectors index by
name and numeric vectors index by position; use a list to index
by position and name at different levels. If a component is not
present, the value of <code>.default</code> will be returned.</p></dd>


<dt>...</dt>
<dd><p>Additional arguments passed on to the mapped function.</p></dd>


<dt>.id</dt>
<dd><p>Either a string or <code>NULL</code>. If a string, the output will contain
a variable with that name, storing either the name (if <code>.x</code> is named) or
the index (if <code>.x</code> is unnamed) of the input. If <code>NULL</code>, the default, no
variable will be created.</p>
<p>Only applies to <code>_dfr</code> variant.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<ul><li><p><code>map()</code> Returns a list the same length as <code>.x</code>.</p></li>
<li><p><code>map_lgl()</code> returns a logical vector, <code>map_int()</code> an integer
vector, <code>map_dbl()</code> a double vector, and <code>map_chr()</code> a character
vector.</p></li>
<li><p><code>map_df()</code>, <code>map_dfc()</code>, <code>map_dfr()</code> all return a data frame.</p></li>
<li><p>If <code>.x</code> has <code><a href="https://rdrr.io/r/base/names.html" class="external-link">names()</a></code>, the return value preserves those names.</p></li>
<li><p>The output of <code>.f</code> will be automatically typed upwards, e.g.
logical -&gt; integer -&gt; double -&gt; character.</p></li>
</ul><ul><li><p><code>walk()</code> returns the input <code>.x</code> (invisibly). This makes it easy to
use in pipe.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="map_if.html">map_if()</a></code> for applying a function to only those elements
of <code>.x</code> that meet a specified condition.</p>
<p>Other map variants: 
<code><a href="imap.html">imap</a>()</code>,
<code><a href="invoke.html">invoke</a>()</code>,
<code><a href="lmap.html">lmap</a>()</code>,
<code><a href="map2.html">map2</a>()</code>,
<code><a href="map_if.html">map_if</a>()</code>,
<code><a href="modify.html">modify</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Compute normal distributions from an atomic vector</span></span></span>
<span class="r-in"><span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">map</span><span class="op">(</span><span class="va">rnorm</span>, n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] -0.33005266  1.16938020  0.51461548  0.50764934  0.77118524</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6]  0.59358665  2.05278168 -0.84082226 -0.03995567  1.23740174</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 0.4023269 1.3600169 1.6765932 0.4165575 3.0479110 2.9257833 2.8297412</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 3.8556399 2.6632916 2.1175712</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[3]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 2.920256 2.148360 3.190512 2.869541 3.932535 3.722460 3.688649</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 2.996824 2.447696 3.391930</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[4]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 3.928121 4.124139 5.690892 6.342451 4.331546 6.202030 4.418203</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 4.626108 4.362771 4.645633</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[5]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 5.510729 2.440301 4.987308 3.030024 3.565450 5.124508 4.282498</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 6.967879 3.656479 6.198227</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[6]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 7.477078 6.960283 4.990668 6.675381 5.092740 6.191480 6.937200</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 4.670206 5.554705 6.060998</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[7]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 5.689300 5.971133 4.787184 6.665550 6.901558 7.104542 5.073075</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 6.597985 6.549152 6.843425</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[8]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 8.922526 7.873473 6.377009 7.740205 8.399335 8.134439 6.814899</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 8.459502 7.263681 7.355401</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[9]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 10.045095  6.078727 10.334559 10.571744  8.522265  9.559503  8.404625</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 10.304109  8.540005  9.338297</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[10]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 11.081518 10.300762 10.103314 11.101992  9.746213  9.223091  7.714598</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 11.717469  9.935019 11.055381</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can also use an anonymous function</span></span></span>
<span class="r-in"><span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">map</span><span class="op">(</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10</span>, <span class="va">x</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  1.51073576  1.44189335  0.59996713 -0.31657382  0.68946511</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [6]  2.42577099  3.41264039  0.61613253 -0.63238493  0.03027404</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 0.7715523 2.8458921 2.8601112 3.4155083 3.0038757 1.6716353 1.4697428</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 2.3065674 1.6010469 1.5371903</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[3]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 3.601926 1.320165 2.031204 2.684637 2.636041 2.589475 2.882947</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 3.685277 2.861452 2.718697</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[4]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 4.841020 2.246810 2.919041 4.167942 3.263133 3.918789 4.508736</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 3.216942 4.128173 6.428031</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[5]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 5.799355 5.223523 4.232092 5.085557 5.550274 6.023162 7.024083</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 5.514186 4.080235 4.071218</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[6]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 6.288740 6.143478 6.439365 6.044262 6.999850 6.122501 5.424881</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 5.919893 5.956319 7.137929</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[7]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 5.505915 5.212710 7.341394 9.733964 8.154294 5.005580 7.437616</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 7.270275 5.339835 7.113426</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[8]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 8.736630 8.097831 8.386212 8.352851 9.279395 8.937042 7.847974</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 7.457611 6.871598 8.225599</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[9]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 7.889781 6.722619 8.180109 9.045687 9.075177 7.990847 8.913990</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 8.608053 8.059512 9.938671</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[10]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  8.559418  9.431864 10.233176 10.138606 10.916264 10.831297  9.122666</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8]  9.920924  9.611978 10.887876</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Or a formula</span></span></span>
<span class="r-in"><span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">map</span><span class="op">(</span><span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10</span>, <span class="va">.x</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  1.3705025 -0.8475769 -1.0836770  1.4754134  1.0154841  0.7195109</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [7] -1.9092978  1.6748726  0.5151697 -0.3697344</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 2.542304 3.053414 3.322603 1.912702 2.647517 1.342681 2.145057</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 3.149783 2.661671 2.428057</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[3]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 1.860268 3.969342 3.400718 3.616287 3.424801 4.595332 2.924648</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 2.771398 3.085583 1.950685</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[4]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 2.968975 3.549948 4.893061 4.176134 3.371122 3.862740 4.238757</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 3.328407 3.441108 4.942307</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[5]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 5.243776 4.972958 3.792386 4.683212 5.422046 4.267013 4.504570</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 5.783662 4.608725 4.170206</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[6]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 5.500425 8.071588 6.502481 4.053161 6.704480 5.630803 7.967160</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 5.274310 5.872336 7.245665</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[7]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 8.153672 7.545571 5.659837 7.646695 7.025130 6.913479 7.132289</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 6.537969 7.131020 7.472515</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[8]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 7.236522 6.970660 7.217738 7.917837 8.218194 7.067140 5.599998</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 7.569683 7.532446 6.345580</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[9]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  9.631674  8.724814  9.149855  9.178104  8.327091  9.919226  8.543936</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8] 10.565467  8.705109  9.212858</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[10]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1] 10.828820 10.622347 10.276298 11.267222 11.296271 10.312032  9.472046</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8]  8.413754 10.447023 10.225880</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Simplify output to a vector instead of a list by computing the mean of the distributions</span></span></span>
<span class="r-in"><span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">map</span><span class="op">(</span><span class="va">rnorm</span>, n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span>  <span class="co"># output a list</span></span></span>
<span class="r-in"><span>  <span class="fu">map_dbl</span><span class="op">(</span><span class="va">mean</span><span class="op">)</span>           <span class="co"># output an atomic vector</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [1]  1.169039  2.476506  2.779545  4.039582  5.367765  6.500865  7.203717</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [8]  8.242913  8.844403 10.140176</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using set_names() with character vectors is handy to keep track</span></span></span>
<span class="r-in"><span><span class="co"># of the original inputs:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"foo"</span>, <span class="st">"bar"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">map_chr</span><span class="op">(</span><span class="va">paste0</span>, <span class="st">":suffix"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          foo          bar </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> "foo:suffix" "bar:suffix" </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Working with lists</span></span></span>
<span class="r-in"><span><span class="va">favorite_desserts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>Sophia <span class="op">=</span> <span class="st">"banana bread"</span>, Eliott <span class="op">=</span> <span class="st">"pancakes"</span>, Karina <span class="op">=</span> <span class="st">"chocolate cake"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">favorite_desserts</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">map_chr</span><span class="op">(</span><span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">.x</span>, <span class="st">"rocks!"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  Sophia                  Eliott                  Karina </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   "banana bread rocks!"       "pancakes rocks!" "chocolate cake rocks!" </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Extract by name or position</span></span></span>
<span class="r-in"><span><span class="co"># .default specifies value for elements that are missing or NULL</span></span></span>
<span class="r-in"><span><span class="va">l1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1L</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>a <span class="op">=</span> <span class="cn">NULL</span>, b <span class="op">=</span> <span class="fl">2L</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>b <span class="op">=</span> <span class="fl">3L</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">l1</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">map</span><span class="op">(</span><span class="st">"a"</span>, .default <span class="op">=</span> <span class="st">"???"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "???"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[3]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "???"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="va">l1</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">map_int</span><span class="op">(</span><span class="st">"b"</span>, .default <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA  2  3</span>
<span class="r-in"><span><span class="va">l1</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">map_int</span><span class="op">(</span><span class="fl">2</span>, .default <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] NA  2 NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Supply multiple values to index deeply into a list</span></span></span>
<span class="r-in"><span><span class="va">l2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>num <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,     <span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>num <span class="op">=</span> <span class="fl">101</span><span class="op">:</span><span class="fl">103</span>, <span class="va">letters</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">l2</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">map</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "b"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "e"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[3]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use a list to build an extractor that mixes numeric indices and names,</span></span></span>
<span class="r-in"><span><span class="co"># and .default to provide a default value if the element does not exist</span></span></span>
<span class="r-in"><span><span class="va">l2</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">map</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"num"</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 103</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[3]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="va">l2</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">map_int</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"num"</span>, <span class="fl">3</span><span class="op">)</span>, .default <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]   3 103  NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Working with data frames</span></span></span>
<span class="r-in"><span><span class="co"># Use map_lgl(), map_dbl(), etc to return a vector instead of a list:</span></span></span>
<span class="r-in"><span><span class="va">mtcars</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu">map_dbl</span><span class="op">(</span><span class="va">sum</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      mpg      cyl     disp       hp     drat       wt     qsec       vs </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  642.900  198.000 7383.100 4694.000  115.090  102.952  571.160   14.000 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       am     gear     carb </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   13.000  118.000   90.000 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># A more realistic example: split a data frame into pieces, fit a</span></span></span>
<span class="r-in"><span><span class="co"># model to each piece, summarise and extract R^2</span></span></span>
<span class="r-in"><span><span class="va">mtcars</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/split.html" class="external-link">split</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">cyl</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">map</span><span class="op">(</span><span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">wt</span>, data <span class="op">=</span> <span class="va">.x</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">map</span><span class="op">(</span><span class="va">summary</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">map_dbl</span><span class="op">(</span><span class="st">"r.squared"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         4         6         8 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.5086326 0.4645102 0.4229655 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If each element of the output is a data frame, use</span></span></span>
<span class="r-in"><span><span class="co"># map_dfr to row-bind them together:</span></span></span>
<span class="r-in"><span><span class="va">mtcars</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/split.html" class="external-link">split</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">cyl</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">map</span><span class="op">(</span><span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html" class="external-link">lm</a></span><span class="op">(</span><span class="va">mpg</span> <span class="op">~</span> <span class="va">wt</span>, data <span class="op">=</span> <span class="va">.x</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">map_dfr</span><span class="op">(</span><span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/t.html" class="external-link">t</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/coef.html" class="external-link">coef</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (Intercept)        wt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1    39.57120 -5.647025</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2    28.40884 -2.780106</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3    23.86803 -2.192438</span>
<span class="r-in"><span><span class="co"># (if you also want to preserve the variable names see</span></span></span>
<span class="r-in"><span><span class="co"># the broom package)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="http://hadley.nz" class="external-link">Hadley Wickham</a>, <a href="https://github.com/lionel-" class="external-link">Lionel Henry</a>, <a href="https://www.rstudio.com" class="external-link"><img src="https://www.tidyverse.org/rstudio-logo.svg" alt="RStudio" width="72"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

  </div></footer></body></html>

